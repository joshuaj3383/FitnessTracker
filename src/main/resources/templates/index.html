<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Fitness Tracker</title>
    <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css"
            rel="stylesheet"
            integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB"
            crossorigin="anonymous"
    />
    <link rel="stylesheet"
          href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <script
            src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI"
            crossorigin="anonymous"
    ></script>

</head>
<body class="bg-light-subtle">

<div class="container justify-content my-3 text-primary-emphasis">
    <!-- Header Box -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
        <div class="container-fluid">
            <span class="navbar-brand fw-bold">
                <i class="bi bi-person-walking me-2"></i>
                Fitness Tracker
            </span>
        </div>
    </nav>


    <hr style="height:4px; opacity:1">

    <!-- Info -->
    <div th:if="${message}" class="alert alert-primary" role="alert">
        <i class="me-2 bi bi-info-circle"></i>
        <span th:text="${message}"/>
    </div>

    <!-- Form -->
    <div class="d-flex align-items-center flex-nowrap gap-2">
        <form action="/add" method="GET" class="d-flex align-items-center gap-2 flex-grow-1">
            <input type="text"
                   name="route"
                   class="form-control flex-grow-1"
                   placeholder="Route" required>
            <input type="number"
                   name="miles"
                   step="any"
                   class="form-control flex-grow-1"
                   placeholder="Miles" required>
            <input type="date"
                   name="date"
                   class="form-control flex-grow-1"
                   placeholder="Date">
            <button type="submit" class="btn btn-primary mx-1">Submit</button>
        </form>
    </div>

    <!-- Numbers of runs logged -->
    <div class="mt-2 mb-2">
        <p>You currently have <span th:text="${numRuns}"/> runs logged.</p>
    </div>

    <!-- Total Mileage -->
    <div class="mt-2 mb-2">
        <p>Total Mileage: <span class="badge rounded-pill text-bg-primary" th:text="${totalMiles}"/></p>

    </div>

    <!-- Table -->
    <table class="table table-striped">
        <tr>
            <th>Route</th>
            <th>Miles</th>
            <th>Date</th>
            <th>Actions</th>
        </tr>
        <tr th:each="run: ${runs}">
            <td th:text="${run.getRoute()}"/>
            <td th:text="${run.getDistance()}"/>
            <td th:text="${run.getDate()}">
            </td>
            <td>
                <a th:href="@{/delete(id=${run.getId()})}">Delete</a></td>
        </tr>
    </table>


</div>
</body>
</html>